{"version":3,"file":"js/756.85c7c0b2.js","mappings":"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","sources":["webpack://web-system/./src/views/LogView.vue","webpack://web-system/src/views/LogView.vue","webpack://web-system/./src/views/LogView.vue?b27b","webpack://web-system/./src/views/LogView.vue?793a"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-container',[_c('el-header',[_c('el-input',{attrs:{\"placeholder\":\"搜索 操作人\",\"clearable\":\"\"},model:{value:(_vm.inputName),callback:function ($$v) {_vm.inputName=$$v},expression:\"inputName\"}}),_c('el-input',{attrs:{\"placeholder\":\"搜索 操作\",\"clearable\":\"\"},model:{value:(_vm.inputAct),callback:function ($$v) {_vm.inputAct=$$v},expression:\"inputAct\"}}),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.delLog()}}},[_vm._v(\"清除所有日志\")])],1),_c('el-main',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.filter(),\"border\":\"\"}},[_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"ID\",\"label\":\"序号\",\"align\":\"center\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"label\":\"操作时间\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-time\"}),_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.CreatedAt.slice(0, 19)))])]}}])}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"Name\",\"label\":\"操作人\",\"width\":\"150\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"操作人权限\",\"width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.Role === \"root\" ? \"超级权限\" : \"普通权限\"))])]}}])}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"label\":\"操作\",\"width\":\"auto\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(_vm.transformData[scope.row.Act.split(\"?\")[0]] ? _vm.transformData[scope.row.Act.split(\"?\")[0]] :scope.row.Act))])]}}])}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"label\":\"API\",\"width\":\"auto\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.Act))])]}}])})],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-container>\n      <el-header>\n        <el-input placeholder=\"搜索 操作人\" v-model=\"inputName\" clearable>\n        </el-input>\n        <el-input placeholder=\"搜索 操作\" v-model=\"inputAct\" clearable>\n        </el-input>\n        <el-button type=\"danger\" @click=\"delLog()\">清除所有日志</el-button>\n      </el-header>\n      <el-main>\n        <el-table :data=\"filter()\" border style=\"width: 100%\">\n          <el-table-column sortable prop=\"ID\" label=\"序号\" align=\"center\" width=\"100\">\n          </el-table-column>\n          <el-table-column sortable label=\"操作时间\" width=\"200\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <i class=\"el-icon-time\"></i>\n              <span style=\"margin-left: 10px\">{{ scope.row.CreatedAt.slice(0, 19) }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column sortable prop=\"Name\" label=\"操作人\" width=\"150\" align=\"center\">\n          </el-table-column>\n          <!-- <el-table-column prop=\"address\" label=\"操作人账号\" width=\"auto\">\n          </el-table-column> -->\n          <el-table-column label=\"操作人权限\" width=\"150\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <span style=\"margin-left: 10px\">{{ scope.row.Role === \"root\" ? \"超级权限\" : \"普通权限\" }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column sortable label=\"操作\" width=\"auto\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <span style=\"margin-left: 10px\">{{ transformData[scope.row.Act.split(\"?\")[0]] ? transformData[scope.row.Act.split(\"?\")[0]] :scope.row.Act\n              }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column sortable label=\"API\" width=\"auto\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <span style=\"margin-left: 10px\">{{scope.row.Act\n              }}</span>\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-main>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport { GetLogList, DelAllLog } from '@/api'\nexport default {\n  data() {\n    return {\n      inputName: '',\n      inputAct: '',\n      tableData: [],\n      transformData: {\n        \n        \n        \"/Login\": \"登录\",\n\n        \"/log/DelAllLog\": \"删除日志\",\n        \"/log/GetLogList\": \"获取日志列表\",\n\n        \"/user/RootResetPassWord\":\"重置用户密码\",\n        \"/user/RootDelUser\":\"删除用户\",\n        \"/user/GetUserList\": \"获取用户列表\",\n        \"/user/RootSetUserAvailable\": \"设置用户权限\",\n        \"/user/UserResetUserPassWord\":\"设置用户密码\",\n        \"/user/RootCreateUser\":\"创建用户\",\n        \"/user/SetRoot\":\"设置超级权限\",\n        \n        \"Gopro/SetGoPro\":\"设置gopro相机\",\n        \"Gopro/GetGoProMediaList\":\"获取gopro相机文件列表\",\n        \"Gopro/GetGoProSate\":\"获取gopro相机状态\",\n        \"Gopro/SetGoProShutter\":\"设置相机录制状态\",\n        \"Gopro/SetGoProWebcam\":\"设置相机网络视频状态\",\n        \n        \"/video/GetLocalVideoFileList\":\"查看本地视频文件列表\",\n        \"/video/RenameLocalVideoFile\":\"重命名本地文件\",\n        \"/video/RemoveLocalVideoFile\":\"删除本地文件\",\n        \"/video/DownloadFile\":\"下载文件\",\n        \"/video/TimedVideoTask\":\"开启定时任务\",\n\n        \"/dev/SetDevice\":\"设置设备\",\n        \"/dev/DelDev\":\"删除设备\",\n        \"/dev/DeviceControlWebcamStop\":\"停止设备网络视频流\",\n        \"/dev/DeviceControlWebcamStart\":\"开始设备网络视频流\",\n        \"/dev/SearchDeviceInfo\":\"查询设备信息\",\n        \"/dev/SetDeviceTimeSYNC\":\"设备同步时间\",\n      }\n    }\n  },\n  mounted() {\n    this.init()\n  },\n  methods: {\n    init() {\n      GetLogList().then((response) => {\n        this.tableData = response.data\n        // console.log(response.data)\n      })\n    },\n    delLog() {\n      this.$confirm('此操作将永久删除日志, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning',\n        center: true\n      }).then(() => {\n        // console.log({device_name:row.device_name})\n        DelAllLog().then(() => {\n          this.$message({\n            type: 'success',\n            message: '删除成功!'\n          })\n          this.init()\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      })\n\n    },\n    filter() {\n      return this.tableData.filter(\n        data => (\n           !this.inputName || data.Name.includes(this.inputName)\n        )&& \n        (\n          !this.inputAct || (data.Act.includes(this.inputAct)||this.transformData[data.Act.split(\"?\")[0]].includes(this.inputAct))\n        )\n      )\n    }\n\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.el-header {\n  // display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  .el-input {\n    width: 200px;\n    margin: 10px;\n  }\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LogView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LogView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LogView.vue?vue&type=template&id=c77c7ae8&scoped=true&\"\nimport script from \"./LogView.vue?vue&type=script&lang=js&\"\nexport * from \"./LogView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LogView.vue?vue&type=style&index=0&id=c77c7ae8&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c77c7ae8\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","model","value","inputName","callback","$$v","expression","inputAct","on","$event","delLog","_v","staticStyle","filter","scopedSlots","_u","key","fn","scope","staticClass","_s","row","CreatedAt","slice","Role","transformData","Act","split","staticRenderFns","data","tableData","mounted","methods","init","GetLogList","confirmButtonText","cancelButtonText","type","center","DelAllLog","message","component"],"sourceRoot":""}